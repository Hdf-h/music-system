{"remainingRequest":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\src\\pages\\InfoPage.vue?vue&type=style&index=0&id=7d145681&scoped=true&lang=css&","dependencies":[{"path":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\src\\pages\\InfoPage.vue","mtime":1696063220000},{"path":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696221622000},{"path":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1696221623000},{"path":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1696221623000},{"path":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696221622000},{"path":"D:\\keshe\\音乐管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1696221623000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouZ3JpZC1jb250ZW50IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgaGVpZ2h0OiAxMDBweDsNCn0NCg0KLmdyaWQtY29udC1jZW50ZXIgew0KICAgIGZsZXg6IDE7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICBjb2xvcjogZGFya2dyYXk7DQp9DQoNCi5ncmlkLW51bSB7DQogICAgZm9udC1zaXplOiA0MnB4Ow0KICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KfQ0K"},{"version":3,"sources":["InfoPage.vue"],"names":[],"mappings":";AAmNA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"InfoPage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div style=\"padding: 20px;\">\r\n        <el-row :gutter=\"20\" class=\"mgb20\">\r\n            <el-col :span=\"6\">\r\n                <el-card>\r\n                    <div class=\"grid-content\">\r\n                        <div class=\"grid-cont-center\" style=\"color: #DC143C;\">\r\n                            <div class=\"grid-num\">{{consumerCount}}</div>\r\n                            <div><i class=\"iconfont icon-r-team\" style=\"font-size: 42px;\"> 用户总数</i></div>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n                <el-card>\r\n                    <div class=\"grid-content\">\r\n                        <div class=\"grid-cont-center\" style=\"color: #6495ED;\">\r\n                            <div class=\"grid-num\">{{songCount}}</div>\r\n                            <div>\r\n                                <i class=\"iconfont icon-r-paper\" style=\"font-size: 42px;\"> 歌曲总数</i></div>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n                <el-card>\r\n                    <div class=\"grid-content\">\r\n                        <div class=\"grid-cont-center\" style=\"color: #2E8B57;\">\r\n                            <div class=\"grid-num\">{{singerCount}}</div>\r\n                            <div>\r\n                                <i class=\"iconfont icon-r-love\" style=\"font-size: 42px;\"> 歌手数量</i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n                <el-card>\r\n                    <div class=\"grid-content\">\r\n                        <div class=\"grid-cont-center\" style=\"color: #DAA520;\">\r\n                            <div class=\"grid-num\">{{songListCount}}</div>\r\n                            <div>\r\n                                <i class=\"iconfont icon-r-list\" style=\"font-size: 42px;\"> 歌单数量</i>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" class=\"mgb20\">\r\n            <el-col :span=\"12\">\r\n                <h3 class=\"mgb20\"><i class=\"iconfont icon-r-find\" style=\"font-size: 28px;\"></i> 用户性别比例</h3>\r\n                <div style=\"background-color:white\">\r\n                    <ve-pie :data=\"consumerSex\" :theme=\"options\"></ve-pie>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <h3 class=\"mgb20\"><i class=\"iconfont icon-r-find\" style=\"font-size: 28px;\"></i> 歌曲类型分布</h3>\r\n                <div style=\"background-color:white\">\r\n                    <ve-histogram :data=\"songStyle\"></ve-histogram>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"20\" class=\"mgb20\">\r\n            <el-col :span=\"12\">\r\n                <h3 class=\"mgb20\"><i class=\"iconfont icon-r-find\" style=\"font-size: 28px;\"></i> 歌手性别比例</h3>\r\n                <div style=\"background-color:white\">\r\n                    <ve-pie :data=\"singerSex\"></ve-pie>\r\n                </div>\r\n            </el-col>\r\n            <el-col :span=\"12\">\r\n                <h3 class=\"mgb20\"><i class=\"iconfont icon-r-find\" style=\"font-size: 28px;\"></i> 歌手国籍分布</h3>\r\n                <div style=\"background-color:white\">\r\n                    <ve-histogram :data=\"country\" :theme=\"options1\"></ve-histogram>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {getAllConsumer,allSong,getAllSinger,getAllSongList} from '../api/index';\r\nexport default {\r\n    data(){\r\n        return {\r\n            consumerCount: 0,       //用户总数\r\n            songCount: 0,           //歌曲总数\r\n            singerCount: 0,         //歌手数量\r\n            songListCount: 0,        //歌单数量\r\n            consumer: [],            //所有用户\r\n            consumerSex:{           //按性别分类的用户数\r\n                columns: ['性别','总数'],\r\n                rows: [\r\n                    {'性别': '男','总数': 0},\r\n                    {'性别': '女','总数': 0}\r\n                ]\r\n            },\r\n            options: {\r\n                color: ['#87cefa','#ffc0cb']\r\n            },\r\n            options1: {\r\n                color: ['yellow']\r\n            },\r\n            songStyle:{           //按歌单风格分类\r\n                columns: ['风格','总数'],\r\n                rows: [\r\n                    {'风格': '华语','总数': 0},\r\n                    {'风格': '粤语','总数': 0},\r\n                    {'风格': '欧美','总数': 0},\r\n                    {'风格': '日韩','总数': 0},\r\n                    {'风格': 'BGM','总数': 0},\r\n                    {'风格': '轻音乐','总数': 0},\r\n                    {'风格': '乐器','总数': 0}\r\n                ]\r\n            },\r\n            singerSex:{           //按性别分类的歌手数\r\n                columns: ['性别','总数'],\r\n                rows: [                    \r\n                    {'性别': '女','总数': 0},\r\n                    {'性别': '男','总数': 0},\r\n                    {'性别': '组合','总数': 0},\r\n                    {'性别': '不明','总数': 0}\r\n                ]\r\n            },\r\n            country:{\r\n                columns: ['国籍','总数'],\r\n                rows: [\r\n                    {'国籍': '中国','总数': 0},\r\n                    {'国籍': '韩国','总数': 0},\r\n                    {'国籍': '日本','总数': 0},\r\n                    {'国籍': '美国','总数': 0},\r\n                    {'国籍': '新加坡','总数': 0},\r\n                    {'国籍': '意大利','总数': 0},\r\n                    {'国籍': '马来西亚','总数': 0},\r\n                    {'国籍': '西班牙','总数': 0}                    \r\n                ]\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n\r\n    },\r\n    mounted() {\r\n        this.getConsumer();\r\n        this.getSong();\r\n        this.getSinger();\r\n        this.getSongList();\r\n    },\r\n    methods: {\r\n        getConsumer() {                     //用户总数\r\n            getAllConsumer().then(res => {\r\n                this.consumer = res;\r\n                this.consumerCount = res.length;\r\n                this.consumerSex.rows[0]['总数'] = this.setSex(1,this.consumer);\r\n                this.consumerSex.rows[1]['总数'] = this.setSex(0,this.consumer);\r\n            })\r\n        },  \r\n        setSex(sex,val) {              //根据性别获取用户数\r\n            let count = 0;\r\n            for(let item of val){\r\n                if(sex == item.sex){\r\n                    count++;\r\n                }\r\n            }\r\n            return count;\r\n        },\r\n        getSong() {                      //歌曲总数\r\n            allSong().then(res => {\r\n                this.songCount = res.length;\r\n            })\r\n        },\r\n        getSinger() {                      //歌手数量\r\n            getAllSinger().then(res => {\r\n                this.singerCount = res.length;\r\n                this.singerSex.rows[0]['总数'] = this.setSex(0,res);\r\n                this.singerSex.rows[1]['总数'] = this.setSex(1,res);\r\n                this.singerSex.rows[2]['总数'] = this.setSex(2,res);\r\n                this.singerSex.rows[3]['总数'] = this.setSex(3,res);\r\n                for(let item of res){\r\n                    this.getByCountry(item.location);\r\n                }\r\n            })\r\n        },\r\n\r\n        getSongList() {                    //歌单数量\r\n            getAllSongList().then(res => {\r\n                this.songListCount = res.length;\r\n                for(let item of res){\r\n                    this.getByStyle(item.style);\r\n                }\r\n            })\r\n        },  \r\n        getByStyle(style) {              //根据歌单风格获取数量\r\n            for(let item of this.songStyle.rows){\r\n                if(style.includes(item['风格'])){\r\n                    item['总数']++;\r\n                }\r\n            }\r\n        },\r\n        getByCountry(location) {              //根据国籍获取数量\r\n            for(let item of this.country.rows){\r\n                if(location.includes(item['国籍'])){\r\n                    item['总数']++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.grid-content {\r\n    display: flex;\r\n    align-items: center;\r\n    height: 100px;\r\n}\r\n\r\n.grid-cont-center {\r\n    flex: 1;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    color: darkgray;\r\n}\r\n\r\n.grid-num {\r\n    font-size: 42px;\r\n    font-weight: bold;\r\n}\r\n</style>"]}]}