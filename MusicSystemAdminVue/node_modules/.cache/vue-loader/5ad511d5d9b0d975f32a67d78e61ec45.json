{"remainingRequest":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemAdminVue\\src\\pages\\SongPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemAdminVue\\src\\pages\\SongPage.vue","mtime":1696062370000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696221622000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemAdminVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1696221623000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtaXhpbiB9IGZyb20gIi4uL21peGlucy9pbmRleCI7DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgIkAvYXNzZXRzL2pzL2ljb25mb250LmpzIjsNCmltcG9ydCB7IHNvbmdPZlNpbmdlcklkLCB1cGRhdGVTb25nLCBkZWxTb25nIH0gZnJvbSAiLi4vYXBpL2luZGV4IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICAgIG1peGluczogW21peGluXSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc2luZ2VySWQ6ICIiLCAvL+atjOaJi2lkDQogICAgICAgICAgICBzaW5nZXJOYW1lOiAiIiwgLy/mrYzmiYvlkI0NCiAgICAgICAgICAgIGNlbnRlckRpYWxvZ1Zpc2libGU6IGZhbHNlLCAvL+a3u+WKoOW8ueeql+aYr+WQpuaYvuekug0KICAgICAgICAgICAgZWRpdFZpc2libGU6IGZhbHNlLCAvL+e8lui+keW8ueeql+aYr+WQpuaYvuekug0KICAgICAgICAgICAgZGVsVmlzaWJsZTogZmFsc2UsIC8v5Yig6Zmk5by556qX5piv5ZCm5pi+56S6DQogICAgICAgICAgICByZWdpc3RlckZvcm06IHsNCiAgICAgICAgICAgICAgICAvL+a3u+WKoOahhg0KICAgICAgICAgICAgICAgIG5hbWU6ICIiLA0KICAgICAgICAgICAgICAgIHNpbmdlck5hbWU6ICIiLA0KICAgICAgICAgICAgICAgIGludHJvZHVjdGlvbjogIiIsDQogICAgICAgICAgICAgICAgbHlyaWM6ICIiLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvcm06IHsNCiAgICAgICAgICAgICAgICAvL+e8lui+keahhg0KICAgICAgICAgICAgICAgIGlkOiAiIiwNCiAgICAgICAgICAgICAgICBuYW1lOiAiIiwNCiAgICAgICAgICAgICAgICBpbnRyb2R1Y3Rpb246ICIiLA0KICAgICAgICAgICAgICAgIGx5cmljOiAiIiwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgICAgICAgdGVtcERhdGE6IFtdLA0KICAgICAgICAgICAgc2VsZWN0X3dvcmQ6ICIiLA0KICAgICAgICAgICAgcGFnZVNpemU6IDUsIC8v5YiG6aG15q+P6aG15aSn5bCPDQogICAgICAgICAgICBjdXJyZW50UGFnZTogMSwgLy/lvZPliY3pobUNCiAgICAgICAgICAgIGlkeDogLTEsIC8v5b2T5YmN6YCJ5oup6aG5DQogICAgICAgICAgICBtdWx0aXBsZVNlbGVjdGlvbjogW10sIC8v5ZOq5Lqb6aG55bey57uP5omT5Yu+DQogICAgICAgICAgICB0b2dnbGU6IGZhbHNlLCAvL+aSreaUvuWZqOeahOWbvuagh+eKtuaAgQ0KICAgICAgICB9Ow0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgLi4ubWFwR2V0dGVycyhbImlzUGxheSJdKSwNCiAgICAgICAgLy/orqHnrpflvZPliY3mkJzntKLnu5Pmnpzooajph4znmoTmlbDmja4NCiAgICAgICAgZGF0YSgpIHsNCiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0YS5zbGljZSgNCiAgICAgICAgICAgICAgICAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlICogdGhpcy5wYWdlU2l6ZQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIHdhdGNoOiB7DQogICAgICAgIC8v5pCc57Si5qGG6YeM6Z2i55qE5YaF5a655Y+R55Sf5Y+Y5YyW55qE5pe25YCZ77yM5pCc57Si57uT5p6cdGFibGXliJfooajnmoTlhoXlrrnot5/nnYDlroPnmoTlhoXlrrnlj5HnlJ/lj5jljJYNCiAgICAgICAgc2VsZWN0X3dvcmQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdF93b3JkID09ICIiKSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSB0aGlzLnRlbXBEYXRhOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IFtdOw0KICAgICAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgdGhpcy50ZW1wRGF0YSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5uYW1lLmluY2x1ZGVzKHRoaXMuc2VsZWN0X3dvcmQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5wdXNoKGl0ZW0pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgIH0sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgICAgdGhpcy5zaW5nZXJJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkOw0KICAgICAgICB0aGlzLnNpbmdlck5hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5uYW1lOw0KICAgICAgICB0aGlzLmdldERhdGEoKTsNCiAgICB9LA0KICAgIGRlc3Ryb3llZCgpIHsNCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc1BsYXkiLCBmYWxzZSk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8v6I635Y+W5b2T5YmN6aG1DQogICAgICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOw0KICAgICAgICB9LA0KICAgICAgICAvL+afpeivouaJgOacieatjOaJiw0KICAgICAgICBnZXREYXRhKCkgew0KICAgICAgICAgICAgdGhpcy50ZW1wRGF0YSA9IFtdOw0KICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBbXTsNCiAgICAgICAgICAgIHNvbmdPZlNpbmdlcklkKHRoaXMuc2luZ2VySWQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgIHRoaXMudGVtcERhdGEgPSByZXM7DQogICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXM7DQogICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/mt7vliqDmrYzmiYsNCiAgICAgICAgYWRkU29uZygpIHsNCiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXM7DQogICAgICAgICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgidGYiKSk7DQogICAgICAgICAgICBmb3JtLmFwcGVuZCgic2luZ2VySWQiLCB0aGlzLnNpbmdlcklkKTsNCiAgICAgICAgICAgIGZvcm0uc2V0KCJuYW1lIiwgdGhpcy5zaW5nZXJOYW1lICsgIi0iICsgZm9ybS5nZXQoIm5hbWUiKSk7DQogICAgICAgICAgICBpZiAoIWZvcm0uZ2V0KCJseXJpYyIpKSB7DQogICAgICAgICAgICAgICAgZm9ybS5zZXQoImx5cmljIiwgIlswMDowMDowMF3mmoLml6DmrYzor40iKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHZhciByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCiAgICAgICAgICAgIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgLy9yZXEucmVhZHlTdGF0ZSA9PSA0IOiOt+WPluWIsOi/lOWbnueahOWujOaVtOaVsOaNrg0KICAgICAgICAgICAgICAgIC8vcmVxLnN0YXR1cyA9PSAyMDAg5ZKM5ZCO5Y+w5q2j5bi45Lqk5LqS5a6M5oiQDQogICAgICAgICAgICAgICAgaWYgKHJlcS5yZWFkeVN0YXRlID09IDQgJiYgcmVxLnN0YXR1cyA9PSAyMDApIHsNCiAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IEpTT04ucGFyc2UocmVxLnJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXREYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZWdpc3RlckZvcm0gPSB7fTsNCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmeShyZXMubXNnLCAic3VjY2VzcyIpOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMubm90aWZ5KCLkv53lrZjlpLHotKUiLCAiZXJyb3IiKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICByZXEub3BlbigicG9zdCIsIGAke190aGlzLiRzdG9yZS5zdGF0ZS5IT1NUfS9zb25nL2FkZGAsIGZhbHNlKTsNCiAgICAgICAgICAgIHJlcS5zZW5kKGZvcm0pOw0KICAgICAgICAgICAgX3RoaXMuY2VudGVyRGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICB9LA0KICAgICAgICAvL+W8ueWHuue8lui+kemhtemdog0KICAgICAgICBoYW5kbGVFZGl0KHJvdykgew0KICAgICAgICAgICAgdGhpcy5lZGl0VmlzaWJsZSA9IHRydWU7DQogICAgICAgICAgICB0aGlzLmZvcm0gPSB7DQogICAgICAgICAgICAgICAgaWQ6IHJvdy5pZCwNCiAgICAgICAgICAgICAgICBuYW1lOiByb3cubmFtZSwNCiAgICAgICAgICAgICAgICBpbnRyb2R1Y3Rpb246IHJvdy5pbnRyb2R1Y3Rpb24sDQogICAgICAgICAgICAgICAgbHlyaWM6IHJvdy5seXJpYywNCiAgICAgICAgICAgIH07DQogICAgICAgIH0sDQogICAgICAgIC8v5L+d5a2Y57yW6L6R6aG16Z2i5L+u5pS555qE5pWw5o2uDQogICAgICAgIGVkaXRTYXZlKCkgew0KICAgICAgICAgICAgbGV0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsNCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoImlkIiwgdGhpcy5mb3JtLmlkKTsNCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoIm5hbWUiLCB0aGlzLmZvcm0ubmFtZSk7DQogICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCJpbnRyb2R1Y3Rpb24iLCB0aGlzLmZvcm0uaW50cm9kdWN0aW9uKTsNCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoImx5cmljIiwgdGhpcy5mb3JtLmx5cmljKTsNCg0KICAgICAgICAgICAgdXBkYXRlU29uZyhwYXJhbXMpDQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXREYXRhKCk7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgi5L+u5pS55oiQ5YqfIiwgInN1Y2Nlc3MiKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZ5KCLkv67mlLnlpLHotKUiLCAiZXJyb3IiKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuZWRpdFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/mm7TmlrDlm77niYcNCiAgICAgICAgdXBsb2FkVXJsKGlkKSB7DQogICAgICAgICAgICByZXR1cm4gYCR7dGhpcy4kc3RvcmUuc3RhdGUuSE9TVH0vc29uZy91cGRhdGVTb25nUGljP2lkPSR7aWR9YDsNCiAgICAgICAgfSwNCiAgICAgICAgLy/liKDpmaTkuIDlkI3mrYzmiYsNCiAgICAgICAgZGVsZXRlUm93KCkgew0KICAgICAgICAgICAgZGVsU29uZyh0aGlzLmlkeCkNCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RGF0YSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ub3RpZnkoIuWIoOmZpOaIkOWKnyIsICJzdWNjZXNzIik7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeSgi5Yig6Zmk5aSx6LSlIiwgImVycm9yIik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLmRlbFZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/op6PmnpDmrYzor40NCiAgICAgICAgcGFyc2VMeXJpYyh0ZXh0KSB7DQogICAgICAgICAgICBsZXQgbGluZXMgPSB0ZXh0LnNwbGl0KCJcbiIpOw0KICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSAvXFtcZHsyfTpcZHsyfS4oXGR7M318XGR7Mn0pXF0vZzsNCiAgICAgICAgICAgIGxldCByZXN1bHQgPSBbXTsNCiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgbGluZXMpIHsNCiAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPSBpdGVtLnJlcGxhY2UocGF0dGVybiwgIiIpOw0KICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgICAgIH0sDQogICAgICAgIC8v5LiK5Lyg5q2M5puy5LmL5YmN55qE5qCh6aqMDQogICAgICAgIGJlZm9yZVNvbmdVcGxvYWQoZmlsZSkgew0KICAgICAgICAgICAgdmFyIHRlc3RNc2cgPSBmaWxlLm5hbWUuc3Vic3RyaW5nKGZpbGUubmFtZS5sYXN0SW5kZXhPZigiLiIpICsgMSk7DQogICAgICAgICAgICBpZiAodGVzdE1zZyAhPSAibXAzIikgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5LiK5Lyg5paH5Lu25Y+q6IO95pivbXAz5qC85byPIiwNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/kuIrkvKDmrYzmm7LmiJDlip/kuYvlkI7opoHlgZrnmoTlt6XkvZwNCiAgICAgICAgaGFuZGxlU29uZ1N1Y2Nlc3MocmVzKSB7DQogICAgICAgICAgICBsZXQgX3RoaXMgPSB0aGlzOw0KICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDEpIHsNCiAgICAgICAgICAgICAgICBfdGhpcy5nZXREYXRhKCk7DQogICAgICAgICAgICAgICAgX3RoaXMuJG5vdGlmeSh7DQogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAi5LiK5Lyg5oiQ5YqfIiwNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBfdGhpcy4kbm90aWZ5KHsNCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICLkuIrkvKDlpLHotKUiLA0KICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+abtOaWsOatjOabsnVybA0KICAgICAgICB1cGxvYWRTb25nVXJsKGlkKSB7DQogICAgICAgICAgICByZXR1cm4gYCR7dGhpcy4kc3RvcmUuc3RhdGUuSE9TVH0vc29uZy91cGRhdGVTb25nVXJsP2lkPSR7aWR9YDsNCiAgICAgICAgfSwNCiAgICAgICAgLy/liIfmjaLmkq3mlL7mrYzmm7INCiAgICAgICAgc2V0U29uZ1VybCh1cmwsIG5hbWUpIHsNCiAgICAgICAgICAgIHRoaXMudG9nZ2xlID0gbmFtZTsNCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2V0VXJsIiwgdGhpcy4kc3RvcmUuc3RhdGUuSE9TVCArIHVybCk7DQogICAgICAgICAgICBpZiAodGhpcy5pc1BsYXkpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldElzUGxheSIsIGZhbHNlKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJzZXRJc1BsYXkiLCB0cnVlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICB9LA0KfTsNCg=="},{"version":3,"sources":["SongPage.vue"],"names":[],"mappings":";AA8NA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SongPage.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div class=\"table\">\r\n        <div class=\"crumbs\" style=\"padding: 20px 0 5px 20px\">\r\n            <i class=\"iconfont icon-r-list\" style=\"font-size: 24px\">\r\n                歌曲信息</i\r\n            >\r\n        </div>\r\n        <div class=\"container\">\r\n            <div class=\"handle-box\">\r\n                <el-input\r\n                    v-model=\"select_word\"\r\n                    placeholder=\"请输入歌曲名\"\r\n                    class=\"handle-input\"\r\n                ></el-input\r\n                ><br /><br />\r\n                <el-button type=\"danger\" style=\"font-size: 18px\" @click=\"delAll\"\r\n                    ><i\r\n                        class=\"iconfont icon-r-delete\"\r\n                        style=\"font-size: 22px\"\r\n                    ></i>\r\n                    批量删除</el-button\r\n                >\r\n                <el-button\r\n                    type=\"primary\"\r\n                    style=\"font-size: 18px\"\r\n                    @click=\"centerDialogVisible = true\"\r\n                    ><i class=\"iconfont icon-r-add\" style=\"font-size: 22px\"></i>\r\n                    添加歌曲</el-button\r\n                >\r\n            </div>\r\n        </div>\r\n        <el-table\r\n            ref=\"multipleTable\"\r\n            border\r\n            style=\"width: 100%\"\r\n            height=\"680px\"\r\n            :data=\"data\"\r\n            @selection-change=\"handleSelectionChange\"\r\n        >\r\n            <el-table-column type=\"selection\" width=\"40\"></el-table-column>\r\n            <el-table-column label=\"歌曲图片\" width=\"110\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <div class=\"song-img\">\r\n                        <img :src=\"getUrl(scope.row.pic)\" style=\"width: 100%\" />\r\n                    </div>\r\n                    <div\r\n                        class=\"play\"\r\n                        @click=\"setSongUrl(scope.row.url, scope.row.name)\"\r\n                    >\r\n                        <div v-if=\"toggle == scope.row.name\">\r\n                            <svg class=\"icon\">\r\n                                <use xlink:href=\"#icon-zanting\"></use>\r\n                            </svg>\r\n                        </div>\r\n                        <div v-if=\"toggle != scope.row.name\">\r\n                            <svg class=\"icon\">\r\n                                <use xlink:href=\"#icon-bofanganniu\"></use>\r\n                            </svg>\r\n                        </div>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                prop=\"name\"\r\n                label=\"歌手-歌名\"\r\n                width=\"120\"\r\n                align=\"center\"\r\n            ></el-table-column>\r\n            <el-table-column\r\n                prop=\"introduction\"\r\n                label=\"专辑\"\r\n                width=\"150\"\r\n                align=\"center\"\r\n            ></el-table-column>\r\n            <el-table-column label=\"歌词\" align=\"center\">\r\n                <template slot-scope=\"scope\">\r\n                    <ul style=\"height: 100px; overflow: scroll\">\r\n                        <li\r\n                            v-for=\"(item, index) in parseLyric(scope.row.lyric)\"\r\n                            :key=\"index\"\r\n                        >\r\n                            {{ item }}\r\n                        </li>\r\n                    </ul>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"资源更新\" align=\"center\" width=\"100\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-upload\r\n                        :action=\"uploadUrl(scope.row.id)\"\r\n                        :before-upload=\"beforeAvatorUpload\"\r\n                        :on-success=\"handleAvatorSuccess\"\r\n                    >\r\n                        <el-button size=\"mini\">更新图片</el-button>\r\n                    </el-upload>\r\n                    <br />\r\n                    <el-upload\r\n                        :action=\"uploadSongUrl(scope.row.id)\"\r\n                        :before-upload=\"beforeSongUpload\"\r\n                        :on-success=\"handleSongSuccess\"\r\n                    >\r\n                        <el-button size=\"mini\">更新歌曲</el-button>\r\n                    </el-upload>\r\n                </template>\r\n            </el-table-column>\r\n\r\n            <el-table-column label=\"操作\" width=\"250\" align=\"center\" fixed=\"right\">\r\n                <template slot-scope=\"scope\">\r\n                    <el-button type=\"success\" @click=\"handleEdit(scope.row)\" style=\"font-size: 18px;\"\r\n                        ><i class=\"iconfont icon-r-edit\" style=\"font-size: 22px\"></i> 编辑</el-button\r\n                    >\r\n                    <el-button\r\n                        type=\"danger\"\r\n                        @click=\"handleDelete(scope.row.id)\" style=\"font-size: 18px;\"\r\n                        ><i class=\"iconfont icon-r-add\" style=\"font-size: 22px\"></i> 删除</el-button\r\n                    >\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <div class=\"pagination\">\r\n            <el-pagination\r\n                background\r\n                layout=\"total,prev,pager,next\"\r\n                :current-page=\"currentPage\"\r\n                :page-size=\"pageSize\"\r\n                :total=\"tableData.length\"\r\n                @current-change=\"handleCurrentChange\"\r\n            >\r\n            </el-pagination>\r\n        </div>\r\n\r\n        <el-dialog\r\n            title=\"添加歌曲\"\r\n            :visible.sync=\"centerDialogVisible\"\r\n            width=\"400px\"\r\n            center\r\n        >\r\n            <el-form\r\n                :model=\"registerForm\"\r\n                ref=\"registerForm\"\r\n                label-width=\"80px\"\r\n                action=\"\"\r\n                id=\"tf\"\r\n            >\r\n                <div>\r\n                    <label>歌名</label>\r\n                    <el-input type=\"text\" name=\"name\"></el-input>\r\n                </div>\r\n                <div>\r\n                    <label>专辑</label>\r\n                    <el-input type=\"text\" name=\"introduction\"></el-input>\r\n                </div>\r\n                <div>\r\n                    <label>歌词</label>\r\n                    <el-input type=\"textarea\" name=\"lyric\"></el-input>\r\n                </div>\r\n                <div>\r\n                    <label>歌曲上传</label>\r\n                    <input type=\"file\" name=\"file\" />\r\n                </div>\r\n            </el-form>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"centerDialogVisible = false\"\r\n                    >取消</el-button\r\n                >\r\n                <el-button size=\"mini\" @click=\"addSong\">确定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog\r\n            title=\"修改歌曲\"\r\n            :visible.sync=\"editVisible\"\r\n            width=\"400px\"\r\n            center\r\n        >\r\n            <el-form :model=\"form\" ref=\"form\" label-width=\"80px\">\r\n                <el-form-item prop=\"name\" label=\"歌手-歌名\" size=\"mini\">\r\n                    <el-input\r\n                        v-model=\"form.name\"\r\n                        placeholder=\"歌手-歌名\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"introduction\" label=\"专辑\" size=\"mini\">\r\n                    <el-input\r\n                        v-model=\"form.introduction\"\r\n                        placeholder=\"专辑\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n                <el-form-item prop=\"lyric\" label=\"歌词\" size=\"mini\">\r\n                    <el-input\r\n                        v-model=\"form.lyric\"\r\n                        placeholder=\"歌词\"\r\n                        type=\"textarea\"\r\n                    ></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"editVisible = false\"\r\n                    >取消</el-button\r\n                >\r\n                <el-button size=\"mini\" @click=\"editSave\">确定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n\r\n        <el-dialog\r\n            title=\"删除歌曲\"\r\n            :visible.sync=\"delVisible\"\r\n            width=\"300px\"\r\n            center\r\n        >\r\n            <div align=\"center\">删除不可恢复，是否确定删除？</div>\r\n            <span slot=\"footer\">\r\n                <el-button size=\"mini\" @click=\"delVisible = false\"\r\n                    >取消</el-button\r\n                >\r\n                <el-button size=\"mini\" @click=\"deleteRow\">确定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mixin } from \"../mixins/index\";\r\nimport { mapGetters } from \"vuex\";\r\nimport \"@/assets/js/iconfont.js\";\r\nimport { songOfSingerId, updateSong, delSong } from \"../api/index\";\r\n\r\nexport default {\r\n    mixins: [mixin],\r\n    data() {\r\n        return {\r\n            singerId: \"\", //歌手id\r\n            singerName: \"\", //歌手名\r\n            centerDialogVisible: false, //添加弹窗是否显示\r\n            editVisible: false, //编辑弹窗是否显示\r\n            delVisible: false, //删除弹窗是否显示\r\n            registerForm: {\r\n                //添加框\r\n                name: \"\",\r\n                singerName: \"\",\r\n                introduction: \"\",\r\n                lyric: \"\",\r\n            },\r\n            form: {\r\n                //编辑框\r\n                id: \"\",\r\n                name: \"\",\r\n                introduction: \"\",\r\n                lyric: \"\",\r\n            },\r\n            tableData: [],\r\n            tempData: [],\r\n            select_word: \"\",\r\n            pageSize: 5, //分页每页大小\r\n            currentPage: 1, //当前页\r\n            idx: -1, //当前选择项\r\n            multipleSelection: [], //哪些项已经打勾\r\n            toggle: false, //播放器的图标状态\r\n        };\r\n    },\r\n    computed: {\r\n        ...mapGetters([\"isPlay\"]),\r\n        //计算当前搜索结果表里的数据\r\n        data() {\r\n            return this.tableData.slice(\r\n                (this.currentPage - 1) * this.pageSize,\r\n                this.currentPage * this.pageSize\r\n            );\r\n        },\r\n    },\r\n    watch: {\r\n        //搜索框里面的内容发生变化的时候，搜索结果table列表的内容跟着它的内容发生变化\r\n        select_word: function () {\r\n            if (this.select_word == \"\") {\r\n                this.tableData = this.tempData;\r\n            } else {\r\n                this.tableData = [];\r\n                for (let item of this.tempData) {\r\n                    if (item.name.includes(this.select_word)) {\r\n                        this.tableData.push(item);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n    },\r\n    created() {\r\n        this.singerId = this.$route.query.id;\r\n        this.singerName = this.$route.query.name;\r\n        this.getData();\r\n    },\r\n    destroyed() {\r\n        this.$store.commit(\"setIsPlay\", false);\r\n    },\r\n    methods: {\r\n        //获取当前页\r\n        handleCurrentChange(val) {\r\n            this.currentPage = val;\r\n        },\r\n        //查询所有歌手\r\n        getData() {\r\n            this.tempData = [];\r\n            this.tableData = [];\r\n            songOfSingerId(this.singerId).then((res) => {\r\n                this.tempData = res;\r\n                this.tableData = res;\r\n                this.currentPage = 1;\r\n            });\r\n        },\r\n        //添加歌手\r\n        addSong() {\r\n            let _this = this;\r\n            var form = new FormData(document.getElementById(\"tf\"));\r\n            form.append(\"singerId\", this.singerId);\r\n            form.set(\"name\", this.singerName + \"-\" + form.get(\"name\"));\r\n            if (!form.get(\"lyric\")) {\r\n                form.set(\"lyric\", \"[00:00:00]暂无歌词\");\r\n            }\r\n            var req = new XMLHttpRequest();\r\n            req.onreadystatechange = function () {\r\n                //req.readyState == 4 获取到返回的完整数据\r\n                //req.status == 200 和后台正常交互完成\r\n                if (req.readyState == 4 && req.status == 200) {\r\n                    let res = JSON.parse(req.response);\r\n                    if (res.code) {\r\n                        _this.getData();\r\n                        _this.registerForm = {};\r\n                        _this.notify(res.msg, \"success\");\r\n                    } else {\r\n                        _this.notify(\"保存失败\", \"error\");\r\n                    }\r\n                }\r\n            };\r\n            req.open(\"post\", `${_this.$store.state.HOST}/song/add`, false);\r\n            req.send(form);\r\n            _this.centerDialogVisible = false;\r\n        },\r\n        //弹出编辑页面\r\n        handleEdit(row) {\r\n            this.editVisible = true;\r\n            this.form = {\r\n                id: row.id,\r\n                name: row.name,\r\n                introduction: row.introduction,\r\n                lyric: row.lyric,\r\n            };\r\n        },\r\n        //保存编辑页面修改的数据\r\n        editSave() {\r\n            let params = new URLSearchParams();\r\n            params.append(\"id\", this.form.id);\r\n            params.append(\"name\", this.form.name);\r\n            params.append(\"introduction\", this.form.introduction);\r\n            params.append(\"lyric\", this.form.lyric);\r\n\r\n            updateSong(params)\r\n                .then((res) => {\r\n                    if (res.code == 1) {\r\n                        this.getData();\r\n                        this.notify(\"修改成功\", \"success\");\r\n                    } else {\r\n                        this.notify(\"修改失败\", \"error\");\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            this.editVisible = false;\r\n        },\r\n        //更新图片\r\n        uploadUrl(id) {\r\n            return `${this.$store.state.HOST}/song/updateSongPic?id=${id}`;\r\n        },\r\n        //删除一名歌手\r\n        deleteRow() {\r\n            delSong(this.idx)\r\n                .then((res) => {\r\n                    if (res) {\r\n                        this.getData();\r\n                        this.notify(\"删除成功\", \"success\");\r\n                    } else {\r\n                        this.notify(\"删除失败\", \"error\");\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(err);\r\n                });\r\n            this.delVisible = false;\r\n        },\r\n        //解析歌词\r\n        parseLyric(text) {\r\n            let lines = text.split(\"\\n\");\r\n            let pattern = /\\[\\d{2}:\\d{2}.(\\d{3}|\\d{2})\\]/g;\r\n            let result = [];\r\n            for (let item of lines) {\r\n                let value = item.replace(pattern, \"\");\r\n                result.push(value);\r\n            }\r\n            return result;\r\n        },\r\n        //上传歌曲之前的校验\r\n        beforeSongUpload(file) {\r\n            var testMsg = file.name.substring(file.name.lastIndexOf(\".\") + 1);\r\n            if (testMsg != \"mp3\") {\r\n                this.$message({\r\n                    message: \"上传文件只能是mp3格式\",\r\n                    type: \"error\",\r\n                });\r\n                return false;\r\n            }\r\n            return true;\r\n        },\r\n        //上传歌曲成功之后要做的工作\r\n        handleSongSuccess(res) {\r\n            let _this = this;\r\n            if (res.code == 1) {\r\n                _this.getData();\r\n                _this.$notify({\r\n                    title: \"上传成功\",\r\n                    type: \"success\",\r\n                });\r\n            } else {\r\n                _this.$notify({\r\n                    title: \"上传失败\",\r\n                    type: \"error\",\r\n                });\r\n            }\r\n        },\r\n        //更新歌曲url\r\n        uploadSongUrl(id) {\r\n            return `${this.$store.state.HOST}/song/updateSongUrl?id=${id}`;\r\n        },\r\n        //切换播放歌曲\r\n        setSongUrl(url, name) {\r\n            this.toggle = name;\r\n            this.$store.commit(\"setUrl\", this.$store.state.HOST + url);\r\n            if (this.isPlay) {\r\n                this.$store.commit(\"setIsPlay\", false);\r\n            } else {\r\n                this.$store.commit(\"setIsPlay\", true);\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.handle-box {\r\n    margin-bottom: 20px;\r\n}\r\n.song-img {\r\n    width: 100%;\r\n    height: 80px;\r\n    border-radius: 5px;\r\n    margin-bottom: 5px;\r\n    overflow: hidden;\r\n}\r\n.handle-input {\r\n    width: 300px;\r\n    display: inline-block;\r\n}\r\n.pagination {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n.play {\r\n    position: absolute;\r\n    z-index: 100;\r\n    width: 80px;\r\n    height: 80px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n    top: 18px;\r\n    left: 15px;\r\n}\r\n\r\n.icon {\r\n    width: 2em;\r\n    height: 2em;\r\n    color: white;\r\n    fill: currentColor;\r\n    overflow: hidden;\r\n}\r\n</style>"]}]}