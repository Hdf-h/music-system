{"remainingRequest":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/src/components/SongAudio.vue?vue&type=style&index=0&id=1598cb41&lang=css&","dependencies":[{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/src/components/SongAudio.vue","mtime":1678901232000},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js","mtime":1696221622943},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1696221623344},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":1696221623063},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1696221622669},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemAdminVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1696221623165}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5zb25nLWF1ZGlvIHsKICAgIGRpc3BsYXk6IG5vbmU7Cn0K"},{"version":3,"sources":["SongAudio.vue"],"names":[],"mappings":";AAyDA;AACA;AACA","file":"SongAudio.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"song-audio\">\r\n        <audio id=\"player\" \r\n            :src=\"url\" \r\n            controls = \"controls\" \r\n            preload = \"true\"\r\n            @canplay=\"startPlay\"\r\n            @ended=\"ended\"\r\n        ></audio>\r\n    </div>\r\n</template>\r\n<script>\r\nimport {mapGetters} from 'vuex';\r\nexport default {\r\n    name: 'song-audio',\r\n    computed: {\r\n        ...mapGetters([\r\n            'id',\r\n            'url',\r\n            'isPlay'\r\n        ])\r\n    },\r\n    watch:{\r\n        //监听播放还是暂停\r\n        isPlay: function(){\r\n            this.togglePlay();\r\n        }\r\n    },\r\n    methods:{\r\n        //获取链接后准备播放\r\n        startPlay(){\r\n            let player = document.querySelector('#player');\r\n            //开始播放\r\n            player.play();\r\n        },\r\n        //播放完成之后触发\r\n        ended(){\r\n           this.isPlay = false\r\n        },\r\n        //开始、暂停\r\n        togglePlay() {\r\n            let player = document.querySelector('#player');\r\n            if(this.isPlay){\r\n                player.play();\r\n            }else{\r\n                player.pause();\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n    .song-audio {\r\n        display: none;\r\n    }\r\n</style>"]}]}