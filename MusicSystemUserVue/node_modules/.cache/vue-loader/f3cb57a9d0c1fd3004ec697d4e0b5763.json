{"remainingRequest":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\src\\pages\\MyMusic.vue?vue&type=style&index=0&id=4b443b36&lang=scss&scoped=true&","dependencies":[{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\src\\pages\\MyMusic.vue","mtime":1678901196000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\css-loader\\dist\\cjs.js","mtime":1696214897000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1696214897000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\postcss-loader\\src\\index.js","mtime":1696214897000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1697190997676},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696214897000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1696214897000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpAaW1wb3J0ICcuLi9hc3NldHMvY3NzL215LW11c2ljLnNjc3MnOw0K"},{"version":3,"sources":["MyMusic.vue"],"names":[],"mappings":";AA4GA","file":"MyMusic.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div class=\"my-music\">\r\n        <div class=\"album-slide\">\r\n            <div class=\"album-img\">\r\n                <img :src=\"attachImageUrl(avator)\">\r\n            </div>\r\n            <ul class=\"album-info\">\r\n                <li>昵称:{{username}}</li>\r\n                <li>性别:{{userSex}}</li>\r\n                <li>生日：{{birth}}</li>\r\n                <li>故乡：{{location}}</li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"album-content\">\r\n            <div class=\"album-title\">\r\n                个性签名：{{introduction}}\r\n            </div>\r\n            <div class=\"songs-body\">\r\n                <album-content :songList=\"collectList\">\r\n                    <template slot=\"title\">我的收藏</template>\r\n                </album-content>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mixin} from '../mixins';\r\nimport {mapGetters} from 'vuex';\r\nimport {getUserOfId,getCollectOfUserId,songOfSongId} from '../api/index';\r\nimport AlbumContent from \"../components/AlbumContent\";\r\n\r\nexport default {\r\n    name: 'my-music',\r\n    mixins: [mixin],\r\n    components:{\r\n        AlbumContent\r\n    },\r\n    data(){\r\n        return {\r\n            avator: '',       //用户头像\r\n            username: '',     //昵称\r\n            userSex: '',      //性别\r\n            birth: '',        //生日\r\n            location: '',     //故乡\r\n            introduction: '', //签名\r\n            collection: [],     //收藏的歌曲列表\r\n            collectList: [],    //收藏的歌曲列表（带歌曲详情）\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapGetters([\r\n            'listOfSongs',      //当前播放列表\r\n            'userId',           //当前登录用户id\r\n        ])\r\n    },\r\n    mounted(){\r\n        this.getMsg(this.userId);\r\n        this.getCollection(this.userId);\r\n    },\r\n    methods:{\r\n        getMsg(userId){\r\n            getUserOfId(userId)\r\n                .then(res =>{\r\n                    this.avator = res.avator;\r\n                    this.username = res.username;\r\n                    if(res.sex==0){\r\n                        this.userSex = '女';\r\n                    }else if (res.sex==1){\r\n                        this.userSex = '男';\r\n                    }\r\n                    this.birth = this.attachBirth(res.birth);\r\n                    this.location = res.location;\r\n                    this.introduction = res.introduction;                    \r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        },\r\n        //获取我的收藏列表\r\n        getCollection(userId){\r\n            getCollectOfUserId(userId)\r\n                .then(res =>{\r\n                        this.collection = res;\r\n                        //通过歌曲id获取歌曲信息   \r\n                        for(let item of this.collection){\r\n                            this.getSongsOfIds(item.songId);\r\n                        }             \r\n                    })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        },\r\n        //通过歌曲id获取歌曲信息   \r\n        getSongsOfIds(id){\r\n            songOfSongId(id)\r\n                .then(res =>{\r\n                        this.collectList.push(res);\r\n                    })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/css/my-music.scss';\r\n</style>"]}]}