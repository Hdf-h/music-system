{"remainingRequest":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemUserVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemUserVue/src/components/TheHeader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemUserVue/src/components/TheHeader.vue","mtime":1696063260000},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemUserVue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1696214897279},{"path":"/Users/jiawang/售卖项目/影院管理系统/MusicSystem/MusicSystemUserVue/node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js","mtime":1696214897741}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge21hcEdldHRlcnN9IGZyb20gJ3Z1ZXgnOw0KaW1wb3J0IHtuYXZNc2csbG9naW5Nc2csbWVudUxpc3R9IGZyb20gJy4uL2Fzc2V0cy9kYXRhL2hlYWRlcic7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3RoZS1oZWFkZXInLA0KICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgICBuYXZNc2c6IFtdLCAgICAvL+W3puS+p+WvvOiIquagjw0KICAgICAgICAgIGtleXdvcmRzOiAnJywgIC8v5pCc57Si5YWz6ZSu5a2XDQogICAgICAgICAgbG9naW5Nc2c6IFtdLCAgLy/lj7Pkvqflr7zoiKrmoI8NCiAgICAgICAgICBtZW51TGlzdDogW10sIC8v55So5oi35LiL5ouJ6I+c5Y2VDQogICAgICB9DQogIH0sDQogIGNvbXB1dGVkOnsNCiAgICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgICAgICdhY3RpdmVOYW1lJywNCiAgICAgICAgICAnbG9naW5JbicsDQogICAgICAgICAgJ2F2YXRvcicNCiAgICAgIF0pDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgICB0aGlzLm5hdk1zZyA9IG5hdk1zZzsNCiAgICAgIHRoaXMubG9naW5Nc2cgPSBsb2dpbk1zZzsNCiAgICAgIHRoaXMubWVudUxpc3QgPSBtZW51TGlzdDsNCiAgfSwNCiAgbW91bnRlZCgpew0KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VzZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZSl7DQogICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKS5jbGFzc0xpc3QuYWRkKCJzaG93Iik7DQogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKSAgICAgICAgICAgLy/lhbPplK7lnKjkuo7pmLvmraLlhpLms6ENCiAgICAgIH0sZmFsc2UpOw0KICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24oZSl7DQogICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKSAgICAgICAgICAgLy/ngrnlh7voj5zljZXlhoXpg6jml7bvvIzpmLvmraLml7bpl7TlhpLms6HvvIzov5nmoLfvvIzngrnlh7vlhoXpg6jml7bvvIzoj5zljZXkuI3kvJrlhbPpl60NCiAgICAgIH0sZmFsc2UpOw0KICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLGZ1bmN0aW9uKCl7DQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51JykuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgICAgfSxmYWxzZSk7DQogIH0sDQoNCiAgbWV0aG9kczogew0KICAgICAgIC8v5o+Q56S65L+h5oGvDQogICAgICAgIG5vdGlmeSh0aXRsZSx0eXBlKSB7DQogICAgICAgICAgICB0aGlzLiRub3RpZnkoew0KICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwNCiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgZ29Ib21lKCkgew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtwYXRoOiAiLyJ9KTsNCiAgICAgIH0sDQogICAgICBnb1BhZ2UocGF0aCxuYW1lKSB7DQogICAgICAgICAgaWYoIXRoaXMubG9naW5JbiAmJiBwYXRoPT0nL215LW11c2ljJyl7DQogICAgICAgICAgICAgIHRoaXMubm90aWZ5KCfor7flhYjnmbvlvZUnLCd3YXJuaW5nJyk7DQogICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEFjdGl2ZU5hbWUnLG5hbWUpOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6IHBhdGh9KTsNCiAgICAgICAgICB9DQogICAgICB9LA0KICAgICAgZ29TZWFyY2goKXsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDonL3NlYXJjaCcscXVlcnk6e2tleXdvcmRzOiB0aGlzLmtleXdvcmRzfX0pDQogICAgICB9LA0KICAgICAgLy/ojrflj5blm77niYflnLDlnYANCiAgICAgIGF0dGFjaEltYWdlVXJsIChzcmNVcmwpIHsNCiAgICAgICAgcmV0dXJuIHNyY1VybD8gdGhpcy4kc3RvcmUuc3RhdGUuY29uZmlndXJlLkhPU1Qrc3JjVXJsIDogJy4uL2Fzc2V0cy9pbWcvdXNlci5qcGcnOw0KICAgICAgfSwNCiAgICAgIGdvTWVudUxpc3QocGF0aCl7DQogICAgICAgICAgaWYocGF0aCA9PSAwKXsNCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRMb2dpbkluJyxmYWxzZSk7DQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnc2V0SXNBY3RpdmUnLGZhbHNlKTsNCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLmdvKDApOw0KICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDpwYXRofSk7DQogICAgICAgICAgfQ0KICAgICAgfQ0KICB9DQoNCn0NCg=="},{"version":3,"sources":["TheHeader.vue"],"names":[],"mappings":";AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"TheHeader.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"the-header\">\r\n    <div class=\"header-logo\" @click=\"goHome\">\r\n        <img :src=\"require('../assets/img/logo02.jpg')\" style=\"height: 30px;\">\r\n        <span>音乐网</span>\r\n    </div>\r\n    <ul class=\"navbar\">\r\n        <li :class=\"{active: item.name == activeName}\" v-for=\"item in navMsg\" :key=\"item.path\" @click=\"goPage(item.path,item.name)\">\r\n            {{item.name}}\r\n        </li>\r\n        <li>\r\n            <div class=\"header-search\">\r\n                <input type=\"text\" placeholder=\"搜索音乐\" @keyup.enter=\"goSearch()\" v-model=\"keywords\">\r\n                <div class=\"search-btn\" @click=\"goSearch()\">\r\n                    <!-- <svg class=\"icon\">\r\n                        <use xlink:href = \"#icon-sousuo\"></use>\r\n                    </svg> -->\r\n                    <i class=\"iconfont icon-r-find\" style=\"font-size: 28px;color:white;\"></i> \r\n                </div>\r\n            </div>\r\n        </li>\r\n        <li v-show=\"!loginIn\" :class=\"{active: item.name == activeName}\" v-for=\"item in loginMsg\" :key=\"item.path\" @click=\"goPage(item.path,item.name)\">\r\n            {{item.name}}\r\n        </li>\r\n    </ul>\r\n    <div class=\"header-right\" v-show=\"loginIn\">\r\n        <div id='user'>\r\n            <img :src='attachImageUrl(avator)'>\r\n        </div>\r\n        <ul class=\"menu\">\r\n            <li v-for=\"(item,index) in menuList\" :key=\"index\" @click=\"goMenuList(item.path)\">{{item.name}}</li>\r\n        </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters} from 'vuex';\r\nimport {navMsg,loginMsg,menuList} from '../assets/data/header';\r\n\r\nexport default {\r\n  name: 'the-header',\r\n  data() {\r\n      return {\r\n          navMsg: [],    //左侧导航栏\r\n          keywords: '',  //搜索关键字\r\n          loginMsg: [],  //右侧导航栏\r\n          menuList: [], //用户下拉菜单\r\n      }\r\n  },\r\n  computed:{\r\n      ...mapGetters([\r\n          'activeName',\r\n          'loginIn',\r\n          'avator'\r\n      ])\r\n  },\r\n  created() {\r\n      this.navMsg = navMsg;\r\n      this.loginMsg = loginMsg;\r\n      this.menuList = menuList;\r\n  },\r\n  mounted(){\r\n      document.querySelector('#user').addEventListener('click',function(e){\r\n          document.querySelector('.menu').classList.add(\"show\");\r\n          e.stopPropagation()           //关键在于阻止冒泡\r\n      },false);\r\n      document.querySelector('.menu').addEventListener('click',function(e){\r\n          e.stopPropagation()           //点击菜单内部时，阻止时间冒泡，这样，点击内部时，菜单不会关闭\r\n      },false);\r\n      document.addEventListener('click',function(){\r\n        document.querySelector('.menu').classList.remove('show');\r\n      },false);\r\n  },\r\n\r\n  methods: {\r\n       //提示信息\r\n        notify(title,type) {\r\n            this.$notify({\r\n                title: title,\r\n                type: type\r\n            })\r\n        },\r\n      goHome() {\r\n          this.$router.push({path: \"/\"});\r\n      },\r\n      goPage(path,name) {\r\n          if(!this.loginIn && path=='/my-music'){\r\n              this.notify('请先登录','warning');\r\n          }else{\r\n            this.$store.commit('setActiveName',name);\r\n            this.$router.push({path: path});\r\n          }\r\n      },\r\n      goSearch(){\r\n          this.$router.push({path:'/search',query:{keywords: this.keywords}})\r\n      },\r\n      //获取图片地址\r\n      attachImageUrl (srcUrl) {\r\n        return srcUrl? this.$store.state.configure.HOST+srcUrl : '../assets/img/user.jpg';\r\n      },\r\n      goMenuList(path){\r\n          if(path == 0){\r\n              this.$store.commit('setLoginIn',false);\r\n              this.$store.commit('setIsActive',false);\r\n              this.$router.go(0);\r\n          }else{\r\n              this.$router.push({path:path});\r\n          }\r\n      }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/css/the-header.scss';\r\n</style>\r\n"]}]}