{"remainingRequest":"F:\\外包项目重置\\音乐管理系统\\音乐管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\外包项目重置\\音乐管理系统\\音乐管理系统\\MusicSystem\\MusicSystemUserVue\\src\\pages\\LoginIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\外包项目重置\\音乐管理系统\\音乐管理系统\\MusicSystem\\MusicSystemUserVue\\src\\pages\\LoginIn.vue","mtime":1696063338000},{"path":"F:\\外包项目重置\\音乐管理系统\\音乐管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696214897000},{"path":"F:\\外包项目重置\\音乐管理系统\\音乐管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1696214897000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgbG9naW5Mb2dvIGZyb20gJy4uL2NvbXBvbmVudHMvTG9naW5Mb2dvJw0KaW1wb3J0IHttaXhpbn0gZnJvbSAnLi4vbWl4aW5zJw0KaW1wb3J0IHtsb2dpbklufSBmcm9tICcuLi9hcGkvaW5kZXgnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnbG9naW4taW4nLA0KICAgIG1peGluczogW21peGluXSwNCiAgICBjb21wb25lbnRzOiB7DQogICAgICAgIGxvZ2luTG9nbw0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGxvZ2luRm9ybTogew0KICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJywgICAgICAgLy/nlKjmiLflkI0NCiAgICAgICAgICAgICAgICBwYXNzd29yZDogJycsICAgICAgIC8v5a+G56CBDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICB1c2VybmFtZTogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAnYmx1cicsbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogJ2JsdXInLG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnIH0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuY2hhbmdlSW5kZXgoJ+eZu+W9lScpOw0KICAgIH0sDQogICAgbWV0aG9kczp7DQogICAgICAgIGhhbmRsZUxvZ2luSW4oKXsNCiAgICAgICAgICAgIGxldCBfdGhpcyA9IHRoaXM7DQogICAgICAgICAgICBsZXQgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOw0KICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgndXNlcm5hbWUnLHRoaXMubG9naW5Gb3JtLnVzZXJuYW1lKTsNCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoJ3Bhc3N3b3JkJyx0aGlzLmxvZ2luRm9ybS5wYXNzd29yZCk7DQogICAgICAgICAgICBsb2dpbkluKHBhcmFtcykNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZihyZXMuY29kZSA9PSAxKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmeSgn55m75b2V5oiQ5YqfJywnc3VjY2VzcycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2V0TG9naW5JbicsdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRVc2VySWQnLHJlcy51c2VyTXNnLmlkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ3NldFVzZXJuYW1lJyxyZXMudXNlck1zZy51c2VybmFtZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCdzZXRBdmF0b3InLHJlcy51c2VyTXNnLmF2YXRvcik7DQogICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2hhbmdlSW5kZXgoJ+mmlumhtScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy8nfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LDIwMDApOw0KICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmeSgn55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vJywnZXJyb3InKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmeSgn55So5oi35ZCN5oiW5a+G56CB6ZSZ6K+vJywnZXJyb3InKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBnb1NpZ25VcCgpew0KICAgICAgICAgICAgdGhpcy5jaGFuZ2VJbmRleCgn5rOo5YaMJyk7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9zaWduLXVwJ30pOw0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VJbmRleCh2YWx1ZSl7DQogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3NldEFjdGl2ZU5hbWUnLHZhbHVlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["LoginIn.vue"],"names":[],"mappings":";AAwBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginIn.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n<div class=\"bg\">\r\n<!--    <loginLogo/>-->\r\n    <div class=\"signin\">\r\n        <div class=\"signUp-head\">\r\n            <span>帐号登录</span>\r\n        </div>\r\n        <el-form :model=\"loginForm\" ref=\"loginForm\" label-width=\"70px\" class=\"demo-ruleForm\" :rules=\"rules\">\r\n            <el-form-item prop=\"username\" label=\"用户名\">\r\n                <el-input v-model=\"loginForm.username\" placeholder=\"用户名\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item prop=\"password\" label=\"密码\">\r\n                <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"密码\" @keyup.enter.native=\"handleLoginIn\"></el-input>\r\n            </el-form-item>\r\n\r\n            <div class=\"login-btn\">\r\n                <el-button @click=\"goSignUp\" style=\"font-size: 20px;\"><i class=\"iconfont icon-r-add\" style=\"font-size: 22px;\"></i> 注册</el-button>\r\n                <el-button type=\"primary\" @click=\"handleLoginIn\" style=\"font-size: 20px;\"><i class=\"iconfont icon-r-yes\" style=\"font-size: 22px;\"></i> 登录</el-button>\r\n            </div>\r\n        </el-form>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport loginLogo from '../components/LoginLogo'\r\nimport {mixin} from '../mixins'\r\nimport {loginIn} from '../api/index'\r\n\r\nexport default {\r\n    name: 'login-in',\r\n    mixins: [mixin],\r\n    components: {\r\n        loginLogo\r\n    },\r\n    data() {\r\n        return {\r\n            loginForm: {\r\n                username: '',       //用户名\r\n                password: '',       //密码\r\n            },\r\n            rules: {\r\n                username: [\r\n                    { required: true, trigger: 'blur',message: '请输入用户名' }\r\n                ],\r\n                password: [\r\n                    { required: true, trigger: 'blur',message: '请输入密码' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.changeIndex('登录');\r\n    },\r\n    methods:{\r\n        handleLoginIn(){\r\n            let _this = this;\r\n            let params = new URLSearchParams();\r\n            params.append('username',this.loginForm.username);\r\n            params.append('password',this.loginForm.password);\r\n            loginIn(params)\r\n                .then(res => {\r\n                    if(res.code == 1){\r\n                        _this.notify('登录成功','success');\r\n                        _this.$store.commit('setLoginIn',true);\r\n                        _this.$store.commit('setUserId',res.userMsg.id);\r\n                        _this.$store.commit('setUsername',res.userMsg.username);\r\n                        _this.$store.commit('setAvator',res.userMsg.avator);\r\n                        setTimeout(function(){\r\n                            _this.changeIndex('首页');\r\n                            _this.$router.push({path: '/'});\r\n                        },2000);\r\n                    }else{\r\n                        _this.notify('用户名或密码错误','error');\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    _this.notify('用户名或密码错误','error');\r\n                })\r\n        },\r\n        goSignUp(){\r\n            this.changeIndex('注册');\r\n            this.$router.push({path: '/sign-up'});\r\n        },\r\n        changeIndex(value){\r\n            this.$store.commit('setActiveName',value);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../assets/css/var.scss\";\r\n@import \"../assets/css/global.scss\";\r\n.bg{\r\n  background:url(\"../../src/assets/img/bg.jpg\") no-repeat 5px 5px;\r\n  width:100%;\r\n  height:100%;\r\n  background-size: cover;\r\n  -webkit-background-size: cover;\r\n  -o-background-size: cover;\r\n  background-position: center 0;\r\n}\r\n.signin {\r\n  background-color: rgba(245, 249, 250,.75);\r\n  border-radius: 10px;\r\n  width: 350px;\r\n  margin: 265px auto;\r\n\r\n  padding: 30px 30px;\r\n\r\n  .signUp-head {\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n  }\r\n\r\n  .login-btn {\r\n    @include layout(space-between);\r\n    button {\r\n      display: block;\r\n      width: 50%;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}