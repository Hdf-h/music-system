{"remainingRequest":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\src\\pages\\MyMusic.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\src\\pages\\MyMusic.vue","mtime":1678901196000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1696214897000},{"path":"F:\\外包项目重置\\音乐管理系统\\影院管理系统\\MusicSystem\\MusicSystemUserVue\\node_modules\\@vue\\cli-service\\node_modules\\vue-loader\\lib\\index.js","mtime":1696214897000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQge21peGlufSBmcm9tICcuLi9taXhpbnMnOw0KaW1wb3J0IHttYXBHZXR0ZXJzfSBmcm9tICd2dWV4JzsNCmltcG9ydCB7Z2V0VXNlck9mSWQsZ2V0Q29sbGVjdE9mVXNlcklkLHNvbmdPZlNvbmdJZH0gZnJvbSAnLi4vYXBpL2luZGV4JzsNCmltcG9ydCBBbGJ1bUNvbnRlbnQgZnJvbSAiLi4vY29tcG9uZW50cy9BbGJ1bUNvbnRlbnQiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ215LW11c2ljJywNCiAgICBtaXhpbnM6IFttaXhpbl0sDQogICAgY29tcG9uZW50czp7DQogICAgICAgIEFsYnVtQ29udGVudA0KICAgIH0sDQogICAgZGF0YSgpew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgYXZhdG9yOiAnJywgICAgICAgLy/nlKjmiLflpLTlg48NCiAgICAgICAgICAgIHVzZXJuYW1lOiAnJywgICAgIC8v5pi156ewDQogICAgICAgICAgICB1c2VyU2V4OiAnJywgICAgICAvL+aAp+WIqw0KICAgICAgICAgICAgYmlydGg6ICcnLCAgICAgICAgLy/nlJ/ml6UNCiAgICAgICAgICAgIGxvY2F0aW9uOiAnJywgICAgIC8v5pWF5LmhDQogICAgICAgICAgICBpbnRyb2R1Y3Rpb246ICcnLCAvL+etvuWQjQ0KICAgICAgICAgICAgY29sbGVjdGlvbjogW10sICAgICAvL+aUtuiXj+eahOatjOabsuWIl+ihqA0KICAgICAgICAgICAgY29sbGVjdExpc3Q6IFtdLCAgICAvL+aUtuiXj+eahOatjOabsuWIl+ihqO+8iOW4puatjOabsuivpuaDhe+8iQ0KICAgICAgICB9DQogICAgfSwNCiAgICBjb21wdXRlZDp7DQogICAgICAgIC4uLm1hcEdldHRlcnMoWw0KICAgICAgICAgICAgJ2xpc3RPZlNvbmdzJywgICAgICAvL+W9k+WJjeaSreaUvuWIl+ihqA0KICAgICAgICAgICAgJ3VzZXJJZCcsICAgICAgICAgICAvL+W9k+WJjeeZu+W9leeUqOaIt2lkDQogICAgICAgIF0pDQogICAgfSwNCiAgICBtb3VudGVkKCl7DQogICAgICAgIHRoaXMuZ2V0TXNnKHRoaXMudXNlcklkKTsNCiAgICAgICAgdGhpcy5nZXRDb2xsZWN0aW9uKHRoaXMudXNlcklkKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6ew0KICAgICAgICBnZXRNc2codXNlcklkKXsNCiAgICAgICAgICAgIGdldFVzZXJPZklkKHVzZXJJZCkNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT57DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYXZhdG9yID0gcmVzLmF2YXRvcjsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VybmFtZSA9IHJlcy51c2VybmFtZTsNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzLnNleD09MCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJTZXggPSAn5aWzJzsNCiAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYgKHJlcy5zZXg9PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyU2V4ID0gJ+eUtyc7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdGhpcy5iaXJ0aCA9IHRoaXMuYXR0YWNoQmlydGgocmVzLmJpcnRoKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2NhdGlvbiA9IHJlcy5sb2NhdGlvbjsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnRyb2R1Y3Rpb24gPSByZXMuaW50cm9kdWN0aW9uOyAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICAvL+iOt+WPluaIkeeahOaUtuiXj+WIl+ihqA0KICAgICAgICBnZXRDb2xsZWN0aW9uKHVzZXJJZCl7DQogICAgICAgICAgICBnZXRDb2xsZWN0T2ZVc2VySWQodXNlcklkKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlcyA9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29sbGVjdGlvbiA9IHJlczsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8v6YCa6L+H5q2M5puyaWTojrflj5bmrYzmm7Lkv6Hmga8gICANCiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaXRlbSBvZiB0aGlzLmNvbGxlY3Rpb24pew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U29uZ3NPZklkcyhpdGVtLnNvbmdJZCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIC8v6YCa6L+H5q2M5puyaWTojrflj5bmrYzmm7Lkv6Hmga8gICANCiAgICAgICAgZ2V0U29uZ3NPZklkcyhpZCl7DQogICAgICAgICAgICBzb25nT2ZTb25nSWQoaWQpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+ew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xsZWN0TGlzdC5wdXNoKHJlcyk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["MyMusic.vue"],"names":[],"mappings":";AA2BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyMusic.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div class=\"my-music\">\r\n        <div class=\"album-slide\">\r\n            <div class=\"album-img\">\r\n                <img :src=\"attachImageUrl(avator)\">\r\n            </div>\r\n            <ul class=\"album-info\">\r\n                <li>昵称:{{username}}</li>\r\n                <li>性别:{{userSex}}</li>\r\n                <li>生日：{{birth}}</li>\r\n                <li>故乡：{{location}}</li>\r\n            </ul>\r\n        </div>\r\n        <div class=\"album-content\">\r\n            <div class=\"album-title\">\r\n                个性签名：{{introduction}}\r\n            </div>\r\n            <div class=\"songs-body\">\r\n                <album-content :songList=\"collectList\">\r\n                    <template slot=\"title\">我的收藏</template>\r\n                </album-content>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mixin} from '../mixins';\r\nimport {mapGetters} from 'vuex';\r\nimport {getUserOfId,getCollectOfUserId,songOfSongId} from '../api/index';\r\nimport AlbumContent from \"../components/AlbumContent\";\r\n\r\nexport default {\r\n    name: 'my-music',\r\n    mixins: [mixin],\r\n    components:{\r\n        AlbumContent\r\n    },\r\n    data(){\r\n        return {\r\n            avator: '',       //用户头像\r\n            username: '',     //昵称\r\n            userSex: '',      //性别\r\n            birth: '',        //生日\r\n            location: '',     //故乡\r\n            introduction: '', //签名\r\n            collection: [],     //收藏的歌曲列表\r\n            collectList: [],    //收藏的歌曲列表（带歌曲详情）\r\n        }\r\n    },\r\n    computed:{\r\n        ...mapGetters([\r\n            'listOfSongs',      //当前播放列表\r\n            'userId',           //当前登录用户id\r\n        ])\r\n    },\r\n    mounted(){\r\n        this.getMsg(this.userId);\r\n        this.getCollection(this.userId);\r\n    },\r\n    methods:{\r\n        getMsg(userId){\r\n            getUserOfId(userId)\r\n                .then(res =>{\r\n                    this.avator = res.avator;\r\n                    this.username = res.username;\r\n                    if(res.sex==0){\r\n                        this.userSex = '女';\r\n                    }else if (res.sex==1){\r\n                        this.userSex = '男';\r\n                    }\r\n                    this.birth = this.attachBirth(res.birth);\r\n                    this.location = res.location;\r\n                    this.introduction = res.introduction;                    \r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        },\r\n        //获取我的收藏列表\r\n        getCollection(userId){\r\n            getCollectOfUserId(userId)\r\n                .then(res =>{\r\n                        this.collection = res;\r\n                        //通过歌曲id获取歌曲信息   \r\n                        for(let item of this.collection){\r\n                            this.getSongsOfIds(item.songId);\r\n                        }             \r\n                    })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        },\r\n        //通过歌曲id获取歌曲信息   \r\n        getSongsOfIds(id){\r\n            songOfSongId(id)\r\n                .then(res =>{\r\n                        this.collectList.push(res);\r\n                    })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '../assets/css/my-music.scss';\r\n</style>"]}]}